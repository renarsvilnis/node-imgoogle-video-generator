{"version":3,"sources":["../es6/index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;gCAEgB,mBAAmB;;;;2BAEvB,gBAAgB;;uBACrB,WAAW;;;;sBACsC,UAAU;;AAE/E,IAAI,SAAS,GAAG,SAAZ,SAAS,GAAe;AAC1B,SAAO,iCAAoB,CACxB,IAAI,4BAAoB,CACxB,IAAI,CAAC,gBAAgB,CAAC,CAAC;CAC3B,CAAC;;AAEF,IAAI,gBAAgB,GAAG,SAAnB,gBAAgB,GAAe;AACjC,MAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,OAAK,IAAI,CAAC,GAAG,wBAAW,GAAG,EAAE,CAAC,IAAI,wBAAW,GAAG,EAAE,CAAC,EAAE,EAAE;AACrD,WAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;AAC1C,QAAI,OAAO,GAAG,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC5C,YAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GACxB;;AAED,SAAO,mCAAiB,QAAQ,CAAC,CAAC;CACnC,CAAC;;AAEF,IAAI,eAAe,GAAG,SAAlB,eAAe,CAAa,EAAE,EAAmB;MAAjB,WAAW,yDAAG,CAAC;;AACjD,SAAO,0BAAQ,EAAE,CAAC,CACf,IAAI,CAAC,UAAU,IAAI,EAAE;AACpB,QAAI,OAAO,GAAG,4BAAe,WAAW,EAAE,IAAI,CAAC,CAAC;AAChD,eAAW,IAAI,IAAI,CAAC,MAAM,CAAC;AAC3B,WAAO,OAAO,CAAC;GAChB,CAAC,CACD,IAAI,CAAC,YAAY;AAChB,WAAO,WAAW,CAAC;GACpB,CAAC,SACI,CAAC,UAAU,GAAG,EAAE;AACpB,WAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;GACxB,CAAC,CAAC;CACN,CAAC;;AAEF,SAAS,EAAE,CAAC","file":"index.js","sourcesContent":["'use strict';\n\nimport promiseWaterfall from 'promise-waterfall';\n\nimport {PAGE_RANGE} from './constants.js';\nimport scraper from './scraper';\nimport {deleteImagesFolder, createImagesFolder, downloadImages} from './images';\n\nlet getImages = function () {\n  return deleteImagesFolder()\n    .then(createImagesFolder)\n    .then(getImagesOfPages);\n};\n\nlet getImagesOfPages = function () {\n  let promises = [];\n\n  for (let i = PAGE_RANGE.MIN; i <= PAGE_RANGE.MAX; i++) {\n    console.log('Getting images for page', i);\n    let promise = getImagesOfPage.bind(null, i);\n    promises.push(promise);\n  }\n\n  return promiseWaterfall(promises);\n};\n\nlet getImagesOfPage = function (id, imageOffset = 0) {\n  return scraper(id)\n    .then(function (list) {\n      let promise = downloadImages(imageOffset, list);\n      imageOffset += list.length;\n      return promise;\n    })\n    .then(function () {\n      return imageOffset;\n    })\n    .catch(function (err) {\n      console.log(err.stack);\n    });\n};\n\ngetImages();\n"]}